<link rel='stylesheet' href='/stylesheets/user.css' />
<style>
    body {
        background: linear-gradient(90deg, #bdc3c7, #2c3e50);
    }

    .form {
        width: 100%
    }
</style>

<div class="login-page" style="width: 80vw">
    <div class="form">
        <div style="display: flex;justify-content: space-between;margin-bottom:15px">
            <a href="/admin"><button style="background: rgb(206, 16, 16);"> Back</button></a>
            <h2 class="title" style="color: #2c3e50;"> Users List</h2>
            <div></div>
        </div>
        {{#if users}}
        <table id="main_table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Address</th>
                    <th>Phone</th>
                    <th>operations</th>
                </tr>
            </thead>
            <tbody>
                {{#each users}}
                <tr>
                    <td>{{userName}}</td>
                    <td>{{email}}</td>
                    <td>{{address}}</td>
                    <td>{{phone}}</td>
                    <td>
                        <div class="d-flex">
                            <a href="/admin/send-message/{{email}}"><button class="btn"
                                    style="background: rgb(42, 45, 255);font-weight:600;">Send Message</button></a>
                            <a href="/admin/delete-user/{{_id}}"
                                onclick="return confirm('Are you sure you want to delete this user?');"><button
                                    class="btn" style="background: red;font-weight:600;">delete</button></a>
                        </div>

                    </td>
                </tr>
                {{/each}}
            </tbody>
        </table>
        {{else}}
        <center>
            <h1 class="mt-5"> No REGISTERED users found !!!</h1>
        </center>
        {{/if}}
    </div>
</div>
<script>
    $(function () {
        $("#main_table").dataTable();
    });
</script>